import React from 'react';
import { Chip } from '@mui/material';
import {
  Check as CheckIcon,
  Clear as ClearIcon,
  Warning as WarningIcon,
  Block as BlockIcon
} from '@mui/icons-material';

// Status configuration with colors and icons
const statusConfig = {
  open: {
    color: '#D32F2F', // red
    icon: <WarningIcon />,
    label: 'OPEN'
  },
  fixed: {
    color: '#2E7D32', // green
    icon: <CheckIcon />,
    label: 'FIXED'
  },
  'false-positive': {
    color: '#757575', // grey
    icon: <ClearIcon />,
    label: 'FALSE POSITIVE'
  },
  ignored: {
    color: '#9E9E9E', // light grey
    icon: <BlockIcon />,
    label: 'IGNORED'
  }
};

const VulnerabilityStatusBadge = ({ status, showIcon = true, size = 'small' }) => {
  const config = statusConfig[status] || statusConfig.open;

  return (
    <Chip
      icon={showIcon ? config.icon : null}
      label={config.label}
      size={size}
      sx={{
        backgroundColor: config.color,
        color: 'white',
        '& .MuiChip-icon': {
          color: 'white'
        }
      }}
    />
  );
};

export const getStatusColor = (status) => {
  return (statusConfig[status] || statusConfig.open).color;
};

export default VulnerabilityStatusBadge;